(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{420:function(e,t,a){"use strict";a.r(t);var s=a(40),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"about"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#about"}},[e._v("#")]),e._v(" About")]),e._v(" "),a("p",[a("img",{attrs:{src:"/assets/img/biglogo.png",alt:"Logo"}})]),e._v(" "),a("p",[e._v("Balerter is a Self Hosted Script Based Alert Manager")]),e._v(" "),a("p"),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#reasons-for-creating"}},[e._v("Reasons for creating")])]),a("li",[a("a",{attrs:{href:"#what-does-the-balerter-give"}},[e._v("What does the Balerter give?")])]),a("li",[a("a",{attrs:{href:"#concepts"}},[e._v("Concepts")])])])]),a("p"),e._v(" "),a("h2",{attrs:{id:"reasons-for-creating"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#reasons-for-creating"}},[e._v("#")]),e._v(" Reasons for creating")]),e._v(" "),a("p",[e._v("Balerter was born from need to create complex business-metrics, which very hard to create declaratively.")]),e._v(" "),a("p",[e._v("A typical case:")]),e._v(" "),a("ul",[a("li",[e._v("get historical data from first source")]),e._v(" "),a("li",[e._v("get operative data from second source")]),e._v(" "),a("li",[e._v("make needed calculation")]),e._v(" "),a("li",[e._v("if our results are disturbing")]),e._v(" "),a("li",[e._v("get meta-data from third source")]),e._v(" "),a("li",[e._v("make a error message")]),e._v(" "),a("li",[e._v("send a notification to messengers, etc")]),e._v(" "),a("li",[e._v("repeat this steps every hour")])]),e._v(" "),a("p",[e._v("There can be many such cases. Checking free space on hard disks or monitoring customer spends.\nChecking the temperature in the refrigerator by http api or checking CPU load on servers.")]),e._v(" "),a("p",[e._v("In fact you are not limited in your cases, as you are not limited in writing any programs with you programming language.")]),e._v(" "),a("h2",{attrs:{id:"what-does-the-balerter-give"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-does-the-balerter-give"}},[e._v("#")]),e._v(" What does the Balerter give?")]),e._v(" "),a("ul",[a("li",[e._v("declare all data source in one place. You do not need to write DB connections in each script.")]),e._v(" "),a("li",[e._v("provide API for access to any datasource, but not shadowing implementation details. You need to write SQL queries manually.")]),e._v(" "),a("li",[e._v("can send notification to different targets: email, messengers, syslog. The list is regularly updated by your requests")]),e._v(" "),a("li",[e._v("makes it easy to attach a chart image to a notification")]),e._v(" "),a("li",[e._v("run your scripts with a defined interval")])]),e._v(" "),a("h2",{attrs:{id:"concepts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#concepts"}},[e._v("#")]),e._v(" Concepts")]),e._v(" "),a("p",[e._v("The main concept in Balerter is "),a("strong",[e._v("Alert")]),e._v(".")]),e._v(" "),a("p",[e._v("Alert can be thought of as some object, which has the property: level. The level can have one of three values: "),a("code",[e._v("Error")]),e._v(", "),a("code",[e._v("Warning")]),e._v(" to "),a("code",[e._v("Success")]),e._v(".\nThe level can be changed, but there can not be Alert with an undefined level. After creating an Alert, it has the "),a("code",[e._v("Success")]),e._v(" level.\nThe moment of level change is a trigger for sending a notification.")]),e._v(" "),a("p",[e._v("An example.\nWe have a script, that runs 1 times per minute.")]),e._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- @cron 0 * * * *")]),e._v("\n\nalert "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'alert'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\nalert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'alert-id-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'Something went wrong'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n")])])]),a("p",[e._v("After start of Balerter all Alerts have the "),a("code",[e._v("Success")]),e._v(" status. On first run this script, command "),a("code",[e._v("alert.error('alert-id-1', ...)")]),e._v(" set "),a("code",[e._v("Error")]),e._v(" level for the Alert with id "),a("code",[e._v("alert-id-1")]),e._v(".\nSince we have changed the level, you will receive a notification.")]),e._v(" "),a("p",[e._v("After minute a script will be run again and again will set the "),a("code",[e._v("Error")]),e._v(" level for the Alert. But because the Alert already has the "),a("code",[e._v("Error")]),e._v(" level, a notification will not be sent.")]),e._v(" "),a("p",[e._v("It will be repeated until the Alert level changed.")]),e._v(" "),a("p",[e._v("After run "),a("code",[e._v("alert.success('alert-id-1', ...)")]),e._v(" (or "),a("code",[e._v("alert.warning")]),e._v(") in your script, the Alert level will be changed and you will receive a notification.")]),e._v(" "),a("p",[e._v("An example:")]),e._v(" "),a("div",{staticClass:"language-lua extra-class"},[a("pre",{pre:!0,attrs:{class:"language-lua"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- @cron 0 * * * *")]),e._v("\n\nalert "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'alert'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- After first run this script an Alert has the 'Success' level.")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- And after by calling1 `alert.error` you change the level to `Error` and receive a notification ")]),e._v("\nalert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'alert-id-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'message text'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- after previous `alert.error` the level already has level `Error` and notification will not be sent")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- we just confirmed the `Error` level")]),e._v("\nalert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'alert-id-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'message text'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- we change the level to `Success` and get a notification")]),e._v("\nalert"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("success")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'alert-id-1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v("'message text'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- before exit from the script our Alert has the `Success` level")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("-- since the next run we call `alert.error`, set the `Error` level, get a notification and the history will be repeated ")]),e._v("\n")])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),a("p",[e._v("Calling "),a("code",[e._v("alert.error")]),e._v(" does not send a notification. It changes the level value.\nA notification send when the level changes.")])])])}),[],!1,null,null,null);t.default=r.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{396:function(t,a,e){"use strict";e.r(a);var s=e(40),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"storages"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#storages"}},[t._v("#")]),t._v(" Storages")]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#core"}},[t._v("Core")])]),e("li",[e("a",{attrs:{href:"#upload"}},[t._v("Upload")])])])]),e("p"),t._v(" "),e("ul",[e("li",[t._v("storagesCore : for store Alert data and KV data")]),t._v(" "),e("li",[t._v("storagesUpload : for upload files (usually images)")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('storagesCore:\n  sqlite:\n    - name: filestorage1\n      path: /path/to/file\n      timeout: 1s\n      tableKV:\n        table: "kv"\n        fields:\n          key: key\n          value: value\n      tableAlerts:\n        table: "alerts"\n        fields:\n          name: id\n          level: level\n          count: count\n          createdAt: created_at\n          updatedAt: updated_at\n  postgres:\n    - name: pg1\n      host: domain.com\n      port: 5432\n      username: username\n      password: password\n      database: database\n      sslMode: verify-full\n      sslCertPath: /path/to/cert.crt\n      timeout: 3s\n      tableKV:\n        table: "kv"\n        fields:\n          key: key\n          value: value\n      tableAlerts:\n        table: "alerts"\n        fields:\n          name: id\n          level: level\n          count: count\n          createdAt: created_at\n          updatedAt: updated_at\n\nstoragesUpload:\n  s3:\n    - name: dev\n      region: us-east1\n      key: SOME_KEY\n      secret: SOME_SECRET\n      endpoint: SOME_ENDPOINT\n      bucket: SOME_BUCKET\n')])])]),e("h2",{attrs:{id:"core"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#core"}},[t._v("#")]),t._v(" Core")]),t._v(" "),e("p",[t._v("Core storage is for storing Alerts and KV data")]),t._v(" "),e("p",[t._v("It supports 2 types: "),e("code",[t._v("sqlite")]),t._v(" and "),e("code",[t._v("postgres")])]),t._v(" "),e("p",[t._v("For each of these types you should define tables and fields for storing Alerts and KV data")]),t._v(" "),e("p",[e("strong",[t._v("You do not have direct access to these storages from your scripts")])]),t._v(" "),e("h2",{attrs:{id:"upload"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#upload"}},[t._v("#")]),t._v(" Upload")]),t._v(" "),e("p",[t._v("Upload storage use for uploading any data from your scripts.")]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("At the moment supports only "),e("code",[t._v("uploadPNG")]),t._v(" method")])]),t._v(" "),e("p",[t._v("For example:")]),t._v(" "),e("div",{staticClass:"language-lua extra-class"},[e("pre",{pre:!0,attrs:{class:"language-lua"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("local")]),t._v(" storage "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'storage.s3.myUploadStorage'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("-- ...")]),t._v("\nimageURL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" err "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" storage"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("uploadPNG")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("binaryData"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);